# Установка Ferum Customs

Этот документ описывает шаги для развёртывания приложения **ferum_customs** на чистой системе Ubuntu.

Полную пошаговую инструкцию установки можно найти в файле
[`docs/INSTALL_FULL.md`](docs/INSTALL_FULL.md).

## Подготовка к установке

1. **Системные требования**
   - Ubuntu 20.04 или новее.
   - Доступ в интернет для установки пакетов.
2. **Предварительно установите Git** (если ещё не установлен):
   ```bash
   sudo apt-get update && sudo apt-get install -y git
   ```
3. **Получите проект из репозитория**:
   ```bash
   git clone https://github.com/Dmitriyrus99/ferumdub.git
   cd ferumdub
   ```
4. **Права доступа**
   - Запускайте скрипт установки от пользователя с правами `sudo`, чтобы он мог устанавливать системные зависимости.
5. **Установите Redis-сервер**
   - Frappe использует Redis для фоновых задач и кеша. Установите и запустите его:
   ```bash
   sudo apt update && sudo apt install -y redis-server
   redis-server --version
   sudo systemctl status redis
   sudo systemctl enable redis
   sudo systemctl start redis
   ```
   - После старта Redis повторно запустите скрипт `./dev_bootstrap.sh`.

## Автоматическая установка

Скрипт `setup-environment.sh` автоматически установит все необходимые пакеты, создаст каталог `frappe-bench`, сайт и установит приложение.
Запустите его одной командой:

```bash
bash setup-environment.sh
```

После завершения скрипта будет запущен сервер разработки Frappe.

## Действия после установки

1. **Доступ к системе**
   - Откройте браузер и перейдите по адресу [http://localhost:8000](http://localhost:8000).
2. **Учётные данные по умолчанию**
   - Логин: `Administrator`
   - Пароль: `admin`
3. **Проверка работоспособности**
   1. Убедитесь, что в меню появился модуль **Ferum Customs**.
   2. Создайте тестовую *Service Request* и проведите её по основному сценарию. Создайте *Service Report* и убедитесь, что воркфлоу отрабатывает без ошибок.
4. **Полезные команды**
   - Запуск сервера вручную: `bench start`
   - Перезапуск процессов: `bench restart`
   - Применение миграций: `bench --site dev.localhost migrate`

Готово! Теперь приложение **ferum_customs** должно быть полностью работоспособно на вашем сервере.

